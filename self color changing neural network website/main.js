






const net = new brain.NeuralNetwork();

const data = [
   {input:{r:0,g:0,b:0},output:[1]},
   {input:{r:1,g:1,b:1},output:[0]},
   {"input":{"r":0,"g":0,"b":0},"output":[1]},
   {"input":{"r":1,"g":1,"b":1},"output":[0]},
   {"input":{"r":0.7807566587691235,"g":0.4672746745193779,"b":0.14322228213600963},"output":[1]},
   {"input":{"r":0.7829721697009095,"g":0.8736772776825044,"b":0.9808856159267472},"output":[0]},
   {"input":{"r":0.47962693799268674,"g":0.3607661563599873,"b":0.21684206326809252},"output":[1]},
   {"input":{"r":0.09397297531441917,"g":0.6534233730248791,"b":0.6682403182381784},"output":[1]},
   {"input":{"r":0.4909791284731415,"g":0.6647202356442923,"b":0.39079412238910005},"output":[1]},
   {"input":{"r":0.7509149378667994,"g":0.04922385917119243,"b":0.11359439125040693},"output":[0]},
   {"input":{"r":0.45388190715488697,"g":0.8973371445077374,"b":0.19598718158163142},"output":[0]},
   {"input":{"r":0.7509317508205391,"g":0.12530908827670784,"b":0.9129979655028642},"output":[0]},
   {"input":{"r":0.8295332332824286,"g":0.2801640603551909,"b":0.42464697329250223},"output":[1]},
   {"input":{"r":0.4214130942360872,"g":0.3592372371984456,"b":0.1277879553998389},"output":[1]},
   {"input":{"r":0.7274502224652131,"g":0.0876361787732507,"b":0.9391167593364289},"output":[1]},
   {"input":{"r":0.8295605417092771,"g":0.1432237627989461,"b":0.15921888882926982},"output":[1]},
   {"input":{"r":0.6040721641852445,"g":0.3990144525950976,"b":0.6540035437447955},"output":[1]},
   {"input":{"r":0.0033515401060815186,"g":0.3723410334906496,"b":0.8267770466293223},"output":[1]},
   {"input":{"r":0.34367929168558264,"g":0.4892717567788578,"b":0.8486698809898376},"output":[1]},
   {"input":{"r":0.9622612382883524,"g":0.9960444951002452,"b":0.7034251376638427},"output":[0]},
   {"input":{"r":0.6712363802502646,"g":0.2913318490643737,"b":0.6691888915613244},"output":[1]},
   {"input":{"r":0.2190395415705575,"g":0.5751059057208927,"b":0.5532975376343094},"output":[1]},
   {"input":{"r":0.3354809635727043,"g":0.6290034620338794,"b":0.08130155513229886},"output":[0]},
   {"input":{"r":0.9299397895931734,"g":0.6741027041883179,"b":0.9451858640948392},"output":[0]},
   {"input":{"r":0.13478130097682395,"g":0.1331553391076723,"b":0.18175353764689106},"output":[1]},
   {"input":{"r":0.295932326151497,"g":0.7359816847240936,"b":0.696294340267402},"output":[0]},
   {"input":{"r":0.47787719429331976,"g":0.9736538163114408,"b":0.5812474600309874},"output":[0]},
   {"input":{"r":0.2502987597224613,"g":0.00874946586961034,"b":0.7584627270776982},"output":[1]},
   {"input":{"r":0.6632628933803222,"g":0.1061103869201141,"b":0.03243466963691466},"output":[1]},
   {"input":{"r":0.9829984795113655,"g":0.9867963862900768,"b":0.7983662836973193},"output":[0]},
   {"input":{"r":0.7151255048472989,"g":0.7476707417893671,"b":0.6620507990174063},"output":[1]},
   {"input":{"r":0.39465993040918357,"g":0.37821741991316205,"b":0.7470675385073251},"output":[1]},
   {"input":{"r":0.9920767704422508,"g":0.9379043219909209,"b":0.8124595592373567},"output":[0]},
   {"input":{"r":0.7329171319857732,"g":0.8445230333304594,"b":0.22771267306516374},"output":[0]},
   {"input":{"r":0.937428326430982,"g":0.8715633836628682,"b":0.3644260678821938},"output":[0]}
];

net.train(data);

const colorEl= document.getElementById('color');
const guessEl = document.getElementById('guess');
const whiteButton= document.getElementById("white-button")
const blackButton= document.getElementById('black-button')
const printButton = document.getElementById('print-button');
let color
setRandomColor()

whiteButton.addEventListener('click',()=>{
   choseColor(1);
})
blackButton.addEventListener('click',()=>{
   choseColor(0);
});
printButton.addEventListener('click',print)

function choseColor(value){
   data.push({
      input:color,
      output:[value]})
    setRandomColor()}

function print(){
   console.log(JSON.stringify(data))
}


function setRandomColor (){
   color={
      r:Math.random(),
      g:Math.random(),
      b:Math.random()
   };
   const guess = net.run(color)[0]
   console.log(`value ${guess}`)
   guessEl.style.color = guess >.5 ? '#FFF': '#000'
colorEl.style.backgroundColor=`rgba(${color.r*255},${color.g*255}, ${color.b*255})`
}